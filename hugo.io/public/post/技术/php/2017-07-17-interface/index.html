<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-CN" lang="zh-CN">
<head>
  <link href="https://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="generator" content="Hugo 0.121.2">

  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>PHP类的接口`interface` &middot; 莫离君的博客</title>
  <meta name="description" content="PHP类的接口`interface`" />

  
  <link type="text/css" rel="stylesheet" href="https://gongvirgil.github.io/Blog/css/print.css" media="print">
  <link type="text/css" rel="stylesheet" href="https://gongvirgil.github.io/Blog/css/poole.css">
  <link type="text/css" rel="stylesheet" href="https://gongvirgil.github.io/Blog/css/syntax.css">
  <link type="text/css" rel="stylesheet" href="https://gongvirgil.github.io/Blog/css/hyde.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Abril+Fatface|PT+Sans:400,400i,700">


  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/apple-touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="/favicon.png">

  
  
</head>

  <body class=" ">
  <aside class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <a href="https://gongvirgil.github.io/Blog/"><h1>莫离君的博客</h1></a>
      <p class="lead">
      An elegant open source and mobile first theme for <a href="http://hugo.spf13.com">hugo</a> made by <a href="http://twitter.com/mdo">@mdo</a>. Originally made for Jekyll.
      </p>
    </div>

    <nav>
      <ul class="sidebar-nav">
        <li><a href="https://gongvirgil.github.io/Blog/">Home</a> </li>
        
      </ul>
    </nav>

    <p>&copy; 2024. All rights reserved. </p>
  </div>
</aside>

    <main class="content container">
    <div class="post">
  <h1>PHP类的接口`interface`</h1>
  <time datetime=2017-07-17T00:00:00Z class="post-date">Mon, Jul 17, 2017</time>
  <p>PHP类是单继承，也就是不支持多继承，当一个类需要多个类的功能时，继承就无能为力了，为此 PHP 引入了类的接口技术。</p>
<p>如果一个抽象类里面的所有方法都是抽象方法，且没有声明变量，而且接口里面所有的成员都是<code>public</code>权限的，那么这种特殊的抽象类就叫<code>接口</code>。</p>
<p>接口使用关键字<code>interface</code>来定义，并使用关键字<code>implements</code>来实现接口中的方法，且必须完全实现。</p>
<!-- raw HTML omitted -->
<p>例子：</p>
<pre><code>&lt;?php
//定义接口
interface User{
    function getDiscount();
    function getUserType();
}
//VIP用户 接口实现
class VipUser implements User{
    // VIP 用户折扣系数
    private $discount = 0.8;
    function getDiscount() {
        return $this-&gt;discount;
    }
    function getUserType() {
        return &quot;VIP用户&quot;;
    }
}
class Goods{
    var $price = 100;
    var $vc;
    //定义 User 接口类型参数，这时并不知道是什么用户
    function run(User $vc){
        $this-&gt;vc = $vc;
        $discount = $this-&gt;vc-&gt;getDiscount();
	$usertype = $this-&gt;vc-&gt;getUserType();
        echo $usertype.&quot;商品价格：&quot;.$this-&gt;price*$discount;
    }
}

$display = new Goods();
$display -&gt;run(new VipUser);	//可以是更多其他用户类型
?&gt;
</code></pre>
<p>运行该例子，输出：</p>
<p>VIP用户商品价格：80 元</p>
<p>该例子演示了一个 PHP 接口的简单应用。该例子中，User 接口实现用户的折扣，而在 VipUser 类里面实现了具体的折扣系数。最后商品类 Goods 根据 User 接口来实现不同的用户报价。</p>
<p>该例子仅限于演示 PHP 接口的用法，不涉及其科学与否。</p>
<p>实现多个接口</p>
<p>PHP也可以在继承一个类的时候同时实现多个接口：</p>
<pre><code>class 子类 extends 父类 implemtns 接口1, 接口2, ...
{
    ......
}
</code></pre>
<p>抽象类和接口的区别</p>
<p>接口是特殊的抽象类，也可以看做是一个模型的规范。接口与抽象类大致区别如下：</p>
<p>一个子类如果 implements 一个接口，就必须实现接口中的所有方法（不管是否需要）；如果是继承一个抽象类，只需要实现需要的方法即可。
如果一个接口中定义的方法名改变了，那么所有实现此接口的子类需要同步更新方法名；而抽象类中如果方法名改变了，其子类对应的方法名将不受影响，只是变成了一个新的方法而已（相对老的方法实现）。
抽象类只能单继承，当一个子类需要实现的功能需要继承自多个父类时，就必须使用接口。</p>

</div>


    </main>

    
      
    
  </body>
</html>
